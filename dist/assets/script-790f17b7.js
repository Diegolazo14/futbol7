import{a as w}from"./firebase-5f078573.js";let e={teamA:{goals:0,passes:0,shots:0,possession:0,shotsTimes:[],goalsTimes:[]},teamB:{goals:0,passes:0,shots:0,possession:0,shotsTimes:[],goalsTimes:[]}},m,a,l=0,u=0,p=0,g=0,i=null,r=null;function o(t){const d=Math.floor(t/60),c=t%60;return`${String(d).padStart(2,"0")}:${String(c).padStart(2,"0")}`}function h(){document.getElementById("main-timer").textContent=o(l),document.getElementById("paused-timer").textContent=o(u)}function E(){document.getElementById("possession-timer-a").textContent=o(p),document.getElementById("possession-timer-b").textContent=o(g)}function s(){document.getElementById("counter-goals-a").textContent=e.teamA.goals,document.getElementById("counter-goals-b").textContent=e.teamB.goals,document.getElementById("counter-passes-a").textContent=e.teamA.passes,document.getElementById("counter-passes-b").textContent=e.teamB.passes,document.getElementById("counter-shots-a").textContent=e.teamA.shots,document.getElementById("counter-shots-b").textContent=e.teamB.shots}function x(){m||(m=setInterval(()=>{l++,h(),console.log(`Cronómetro principal: ${o(l)}`)},1e3))}function k(){clearInterval(m),clearInterval(a),clearInterval(i),clearInterval(r),m=null,a=null,i=null,r=null,l=0,u=0,p=0,g=0,e={teamA:{goals:0,passes:0,shots:0,possession:0,shotsTimes:[],goalsTimes:[]},teamB:{goals:0,passes:0,shots:0,possession:0,shotsTimes:[],goalsTimes:[]}},h(),E(),s(),console.log("Se reiniciaron todos los cronómetros y estadísticas.")}function S(){a||(a=setInterval(()=>{u++,h(),console.log(`Tiempo pausado: ${o(u)}`)},1e3))}function q(){clearInterval(i),clearInterval(r),i=null,r=null,S(),console.log("Se pausaron los cronómetros de posesión.")}function $(){j(),clearInterval(a),a=null,i||(x(),i=setInterval(()=>{p++,e.teamA.possession++,E(),s(),console.log(`Posesión Equipo Azul: ${p}s`)},1e3))}function P(){clearInterval(i),i=null}function R(){P(),clearInterval(a),a=null,r||(x(),r=setInterval(()=>{g++,e.teamB.possession++,E(),s(),console.log(`Posesión Equipo Rojo: ${g}s`)},1e3))}function j(){clearInterval(r),r=null}var v;(v=document.getElementById("goalA"))==null||v.addEventListener("click",()=>{e.teamA.goals++,e.teamA.goalsTimes.push(o(l)),s(),console.log(`Gol Equipo Azul: ${e.teamA.goals}`)});var f;(f=document.getElementById("goalB"))==null||f.addEventListener("click",()=>{e.teamB.goals++,e.teamB.goalsTimes.push(o(l)),s(),console.log(`Gol Equipo Rojo: ${e.teamB.goals}`)});var A;(A=document.getElementById("passA"))==null||A.addEventListener("click",()=>{e.teamA.passes++,s(),console.log(`Pase Equipo Azul: ${e.teamA.passes}`)});var T;(T=document.getElementById("passB"))==null||T.addEventListener("click",()=>{e.teamB.passes++,s(),console.log(`Pase Equipo Rojo: ${e.teamB.passes}`)});var b;(b=document.getElementById("shotA"))==null||b.addEventListener("click",()=>{e.teamA.shots++,e.teamA.shotsTimes.push(o(l)),s(),console.log(`Tiro Equipo Azul: ${e.teamA.shots}`)});var L;(L=document.getElementById("shotB"))==null||L.addEventListener("click",()=>{e.teamB.shots++,e.teamB.shotsTimes.push(o(l)),s(),console.log(`Tiro Equipo Rojo: ${e.teamB.shots}`)});async function M(){try{const t=await fetch("https://futbol7.onrender.com/export-csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stats:e})});if(!t.ok)throw new Error("Error al exportar los datos.");const d=await t.blob(),c=window.URL.createObjectURL(d),n=document.createElement("a");n.href=c,n.download="stats_export.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(c),alert("Archivo CSV exportado exitosamente.")}catch(t){console.error("Error al exportar los datos:",t),alert("Error al exportar los datos.")}}var C;(C=document.getElementById("export-csv"))==null||C.addEventListener("click",M);document.addEventListener("DOMContentLoaded",()=>{var t,d,c,n;if(window.location.pathname.includes("index.html")){const B=document.getElementById("register-btn"),I=document.getElementById("login-btn"),y=document.getElementById("register-match-btn");B&&B.addEventListener("click",()=>{document.getElementById("content").innerHTML=`
                    <h2>Registro</h2>
                    <form id="register-form">
                        <input type="email" id="register-email" placeholder="Correo electrónico" required />
                        <input type="password" id="register-password" placeholder="Contraseña" required />
                        <button type="submit">Registrarse</button>
                    </form>
                `,console.log("Formulario de registro cargado.")}),I&&I.addEventListener("click",()=>{document.getElementById("content").innerHTML=`
                    <h2>Iniciar sesión</h2>
                    <form id="login-form">
                        <input type="email" id="login-email" placeholder="Correo electrónico" required />
                        <input type="password" id="login-password" placeholder="Contraseña" required />
                        <button type="submit">Iniciar sesión</button>
                    </form>
                `,console.log("Formulario de inicio de sesión cargado.")}),y&&y.addEventListener("click",()=>{window.location.href="match.html",console.log("Redirigiendo a match.html...")})}window.location.pathname.includes("match.html")&&((t=document.getElementById("pause-game"))==null||t.addEventListener("click",q),(d=document.getElementById("reset-all"))==null||d.addEventListener("click",k),(c=document.getElementById("start-possession-a"))==null||c.addEventListener("click",$),(n=document.getElementById("start-possession-b"))==null||n.addEventListener("click",R))});console.log("Firebase auth importado correctamente:",w);
